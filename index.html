<!DOCTYPE html>
<html lang="pt-BR">
<head>
<!-- KaTeX -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, { delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false}
        ]});"></script>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
          onload="renderMathInElement(document.body);"></script>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Laborat√≥rio de Conserva√ß√£o de Energia</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #1f2937; color: #e2e8f0; }
        .chart-container { position: relative; width: 100%; max-width: 640px; margin-left: auto; margin-right: auto; height: 280px; }
        .slider-thumb::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 20px; height: 20px; background: #06b6d4; cursor: pointer; border-radius: 50%; }
        .slider-thumb::-moz-range-thumb { width: 20px; height: 20px; background: #06b6d4; cursor: pointer; border-radius: 50%; }
        #projectile1D { position: absolute; bottom: 0; left: 50%; width: 0.8rem; height: 0.8rem; background-color: #38bdf8; border-radius: 9999px; transform: translateX(-50%); }
        #proj2Container { position: relative; }
        #projectile2D { position: absolute; left: 0; bottom: 0; width: 0.8rem; height: 0.8rem; background-color: #22d3ee; border-radius: 9999px; pointer-events: none; }
        #trajCanvas { position: absolute; inset: 0; }
        #pendulum-arm-container { position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: flex; justify-content: center; align-items: flex-start; padding-top: 5rem; }
        #pendulum-arm { width: 2px; height: 10rem; background-color: #6b7280; border-radius: 9999px; transform-origin: top center; }
        #pendulum-bob { position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 2.4rem; height: 2.4rem; background-color: #fca5a5; border-radius: 9999px; }

        @keyframes title-gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .animated-title {
            background: linear-gradient(90deg, #38bdf8, #facc15, #4ade80, #fca5a5);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: title-gradient 8s ease infinite;
        }

        .emoji-animated {
            transition: transform 0.3s ease-in-out;
            display: inline-block;
        }

        .emoji-animated:hover {
            transform: scale(1.1);
        }
    </style>
</head>
<body class="antialiased">
<div class="w-full bg-[#1f2937] py-8 mb-4 shadow-lg">
    <h1 class="text-4xl md:text-6xl font-extrabold text-center text-white drop-shadow-lg tracking-wide animated-title">
        F√≠sica sem Mist√©rio
    </h1>
</div>
<header class="bg-[#374151] shadow-lg py-6">
    <div class="container mx-auto px-4 md:px-6 text-center">
        <h1 class="text-3xl md:text-4xl font-bold text-[#e2e8f0]">Laborat√≥rio de Conserva√ß√£o de Energia</h1>
        <p class="mt-2 text-base md:text-lg text-gray-300">Inspirado na lei de Lavoisier: "Nada se perde, tudo se transforma."</p>
    </div>
</header>
<main class="container mx-auto px-4 md:px-6 py-8 md:py-12">
    <!-- Conceitos Fundamentais -->
    <section id="conceitos" class="mb-12 md:mb-16">
        <h2 class="text-2xl md:text-3xl font-bold text-center mb-2">Conceitos Fundamentais</h2>
        <p class="text-center text-gray-300 mb-6 md:mb-8 max-w-3xl mx-auto">A <strong>Lei de Conserva√ß√£o de Energia</strong> √© um dos princ√≠pios mais importantes da f√≠sica. Ela nos diz que a energia total de um sistema isolado permanece constante ao longo do tempo. Em outras palavras, a energia n√£o pode ser criada nem destru√≠da, apenas transformada de uma forma para outra. √â essa transforma√ß√£o que veremos acontecer em nosso laborat√≥rio, passando de energia potencial para cin√©tica e vice-versa.</p>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
            <div class="bg-[#2f3b4c] p-4 md:p-6 rounded-xl shadow-lg transition-transform hover:scale-105">
                <h3 class="text-xl md:text-2xl font-bold mb-3 text-[#38bdf8]"><span class="emoji-animated">‚ö°</span> Energia Cin√©tica</h3>
                <p class="text-gray-300">A energia associada ao <strong>movimento</strong>. Quanto maior a massa ou a velocidade de um corpo, maior sua energia cin√©tica. Ela √© m√°xima quando o objeto est√° em sua velocidade mais alta e zero quando est√° parado.</p>
                <p class="mt-4 text-center font-mono bg-[#1f2937] text-[#e2e8f0] p-2 rounded-md">$E_c = \frac{1}{2}mv^2$</p>
            </div>
            <div class="bg-[#2f3b4c] p-4 md:p-6 rounded-xl shadow-lg transition-transform hover:scale-105">
                <h3 class="text-xl md:text-2xl font-bold mb-3 text-[#4ade80]"><span class="emoji-animated">‚õ∞Ô∏è</span> Energia Potencial</h3>
                <p class="text-gray-300">A energia armazenada devido √† <strong>posi√ß√£o</strong> ou altura de um corpo. Quanto mais alto, maior sua capacidade de realizar trabalho. Ela √© m√°xima na altura m√°xima e zero na altura de refer√™ncia.</p>
                <p class="mt-4 text-center font-mono bg-[#1f2937] text-[#e2e8f0] p-2 rounded-md">$E_p = mgh$</p>
            </div>
            <div class="bg-[#2f3b4c] p-4 md:p-6 rounded-xl shadow-lg transition-transform hover:scale-105 md:col-span-2 lg:col-span-1">
                <h3 class="text-xl md:text-2xl font-bold mb-3 text-[#fca5a5]"><span class="emoji-animated">‚öôÔ∏è</span> Energia Mec√¢nica</h3>
                <p class="text-gray-300">√â a <strong>soma</strong> da energia cin√©tica e da energia potencial. Em sistemas ideais, onde n√£o h√° atrito ou outras perdas, essa energia total se conserva e permanece constante durante todo o movimento.</p>
                <p class="mt-4 text-center font-mono bg-[#1f2937] text-[#e2e8f0] p-2 rounded-md">$E_m = E_c + E_p$</p>
            </div>
        </div>
    </section>

    <!-- Laborat√≥rio Interativo -->
    <section id="laboratorio" class="mb-12 md:mb-16 bg-[#374151] p-4 md:p-8 rounded-xl shadow-2xl">
        <h2 class="text-2xl md:text-3xl font-bold text-center mb-2">Laborat√≥rio Interativo</h2>
        <p class="text-center text-gray-300 mb-6 md:mb-8 max-w-3xl mx-auto">Veja a transforma√ß√£o de energia acontecer. Esta se√ß√£o permite que voc√™ interaja com dois sistemas: um conservativo (proj√©til ideal) e um dissipativo (p√™ndulo com atrito). Tamb√©m inclu√≠mos uma vers√£o 2D do proj√©til com √¢ngulo e gravidade vari√°vel para comparar diferentes planetas.</p>

        <!-- Gravidade global -->
        <div class="bg-[#2f3b4c] rounded-lg p-4 mb-8">
            <div class="grid md:grid-cols-3 gap-4 items-center">
                <div class="md:col-span-2">
                    <label for="gSlider" class="block text-sm font-medium text-gray-200">Gravidade (aplica √†s simula√ß√µes de proj√©til)</label>
                    <input type="range" id="gSlider" min="1" max="25" step="0.1" value="9.81" class="w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer slider-thumb" aria-label="Gravidade"/>
                    <span id="gValue" class="text-sm">9.81 m/s¬≤</span>
                </div>
                <div class="flex flex-wrap gap-2 justify-center md:justify-end">
                    <button class="planet-btn bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-lg text-sm" data-g="9.81" aria-label="Gravidade Terra">üåç Terra</button>
                    <button class="planet-btn bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded-lg text-sm" data-g="1.62" aria-label="Gravidade Lua">üåô Lua</button>
                    <button class="planet-btn bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-lg text-sm" data-g="3.71" aria-label="Gravidade Marte">üî¥ Marte</button>
                    <button class="planet-btn bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded-lg text-sm" data-g="24.79" aria-label="Gravidade J√∫piter">üü° J√∫piter</button>
                </div>
            </div>
        </div>

        <!-- Proj√©til 1D -->
        <div class="grid md:grid-cols-2 gap-8 md:gap-12 items-center">
            <div>
                <h3 class="text-xl md:text-2xl font-bold mb-4 text-center">Simula√ß√£o 1: O Proj√©til (Sistema Conservativo, 1D)</h3>
                <p class="text-gray-300 mb-4">Nesta simula√ß√£o, estamos em um <strong>sistema ideal</strong>, onde a resist√™ncia do ar √© desprezada. O proj√©til parte com alta velocidade vertical. Ao subir, sua energia cin√©tica converte-se em potencial gravitacional; no topo, $v=0$ e a energia potencial √© m√°xima. Ao descer, o processo se inverte. A <strong>soma total</strong> permanece constante.</p>
                <div class="relative w-full h-64 md:h-80 bg-[#1f2937] rounded-lg overflow-hidden border border-[#525252]">
                    <div id="projectile1D"></div>
                </div>
                <div class="mt-4 grid grid-cols-2 gap-4">
                    <div>
                        <label for="projMass" class="block text-sm font-medium text-gray-300">Massa (kg)</label>
                        <input type="range" id="projMass" min="0.01" max="2" step="0.01" value="0.5" class="w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer slider-thumb" aria-label="Massa do proj√©til">
                        <span id="projMassValue" class="text-center block font-mono text-sm md:text-base">0.50 kg</span>
                    </div>
                    <div>
                        <label for="projVel" class="block text-sm font-medium text-gray-300">Velocidade Inicial (m/s)</label>
                        <input type="range" id="projVel" min="10" max="100" step="1" value="50" class="w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer slider-thumb" aria-label="Velocidade inicial do proj√©til">
                        <span id="projVelValue" class="text-center block font-mono text-sm md:text-base">50 m/s</span>
                    </div>
                </div>
            </div>
            <div>
                <div class="chart-container">
                    <canvas id="projectileChart1D"></canvas>
                </div>
                <div class="text-center mt-4 p-4 bg-[#2f3b4c] rounded-lg">
                    <p class="text-sm md:text-base"><strong>Energia Mec√¢nica Total:</strong> <span id="projTotalEnergy" class="font-mono text-[#4ade80]">0</span> J</p>
                    <p class="text-sm md:text-base"><strong>Altura M√°xima Atingida:</strong> <span id="projMaxHeight" class="font-mono text-[#4ade80]">0</span> m</p>
                </div>
                <p class="text-gray-300 mt-4 text-sm md:text-base">No gr√°fico, a soma das barras de energia cin√©tica e potencial se mant√©m constante, evidenciando a conserva√ß√£o de energia sob a a√ß√£o exclusiva da gravidade.</p>
            </div>
        </div>

        <hr class="my-8 md:my-12 border-gray-600"/>

        <!-- Proj√©til 2D -->
         <div class="grid md:grid-cols-2 gap-8 md:gap-12 items-center">
            <div>
                <h3 class="text-xl md:text-2xl font-bold mb-4 text-center">Simula√ß√£o 1B: Proj√©til 2D (com √¢ngulo e trajet√≥ria)</h3>
                <p class="text-gray-300 mb-4">Agora o proj√©til descreve uma <strong>trajet√≥ria parab√≥lica</strong>: o movimento horizontal √© uniforme enquanto o vertical √© acelerado pela gravidade. Ajuste os controles e observe alcance, altura m√°xima e a evolu√ß√£o das energias em tempo real.</p>
                <div id="proj2Container" class="relative w-full h-64 md:h-80 bg-[#0f172a] rounded-lg overflow-hidden border border-[#525252]">
                    <canvas id="trajCanvas"></canvas>
                    <div id="projectile2D"></div>
                </div>
                <div class="mt-4 grid grid-cols-3 gap-4">
    <div>
        <label for="proj2Mass" class="block text-sm font-medium text-gray-300">Massa (kg)</label>
        <input type="range" id="proj2Mass" min="0.1" max="5" step="0.1" value="1" class="w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer slider-thumb" aria-label="Massa do proj√©til 2D">
        <span id="proj2MassValue" class="text-center block font-mono text-sm md:text-base">1.0 kg</span>
    </div>
    <div>
        <label for="proj2Vel" class="block text-sm font-medium text-gray-300">Velocidade Inicial (m/s)</label>
        <input type="range" id="proj2Vel" min="5" max="120" step="1" value="50" class="w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer slider-thumb" aria-label="Velocidade inicial do proj√©til 2D">
        <span id="proj2VelValue" class="text-center block font-mono text-sm md:text-base">50 m/s</span>
    </div>
    <div>
        <label for="proj2Angle" class="block text-sm font-medium text-gray-300">√Çngulo de lan√ßamento (¬∞)</label>
        <input type="range" id="proj2Angle" min="5" max="85" step="1" value="45" class="w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer slider-thumb" aria-label="√Çngulo de lan√ßamento do proj√©til 2D">
        <span id="proj2AngleValue" class="text-center block font-mono text-sm md:text-base">45¬∞</span>
    </div>
</div>
<!-- Bot√£o de estrela para simula√ß√£o PhET -->
<div class="flex justify-center mt-4">
    <a href="https://phet.colorado.edu/sims/html/projectile-motion/latest/projectile-motion_all.html?locale=pt_BR"
       target="_blank"
       rel="noopener"
       class="inline-flex items-center px-4 py-2 bg-yellow-400 hover:bg-yellow-300 text-black font-bold rounded-full shadow transition"
       aria-label="Abrir simula√ß√£o PhET de lan√ßamento de proj√©teis">
        <span class="text-2xl mr-2" aria-hidden="true">‚≠ê</span>
        Simula√ß√£o PhET
    </a>
</div>
            </div>
            <div>
                <div class="chart-container">
                    <canvas id="projectileChart2D"></canvas>
                </div>
                <div class="grid grid-cols-3 gap-3 text-center mt-4">
                    <div class="p-3 bg-[#2f3b4c] rounded">
                        <p class="text-xs text-gray-300">Energ. Total</p>
                        <p class="font-mono" id="proj2TotalEnergy">0</p>
                    </div>
                    <div class="p-3 bg-[#2f3b4c] rounded">
                        <p class="text-xs text-gray-300">Altura M√°x (m)</p>
                        <p class="font-mono" id="proj2MaxHeight">0</p>
                    </div>
                    <div class="p-3 bg-[#2f3b4c] rounded">
                        <p class="text-xs text-gray-300">Alcance (m)</p>
                        <p class="font-mono" id="proj2Range">0</p>
                    </div>
                </div>
                <div class="mt-4 p-4 bg-[#2f3b4c] rounded-lg">
                    <h4 class="font-bold mb-2">Explica√ß√£o Te√≥rica</h4>
                    <p class="text-gray-300 text-sm md:text-base mb-2">üîπ <strong>Trajet√≥ria parab√≥lica</strong>: combina√ß√£o de MRU no eixo x ($v_x$ constante) e MUV no eixo y ($a_y = -g$). As equa√ß√µes $x(t) = v_0\cos\theta \cdot t$ e $y(t) = v_0\sin\theta \cdot t - 1/2gt^2$ geram a par√°bola.</p>
                    <p class="text-gray-300 text-sm md:text-base mb-2">üîπ <strong>Altura m√°xima</strong>: $H = (v_0^2 \cdot \sin^2\theta)/(2g)$. </p>
					<p class="text-gray-300 text-sm md:text-base mb-2">üîπ <strong>Alcance</strong>: $R = (v_0^2 \cdot \sin2\theta)/g$ (sem ar e mesmo n√≠vel).</p>
                    <p class="text-gray-300 text-sm md:text-base">üîπ <strong>Gravidade vari√°vel</strong>: reduzir g (ex.: Lua) aumenta o tempo de voo, a altura e o alcance; aumentar g (ex.: J√∫piter) reduz todos eles.</p>
                </div>
            </div>
        </div>

          <hr class="my-8 md:my-12 border-gray-600"/>

        <!-- P√™ndulo -->
        <div class="grid md:grid-cols-2 gap-8 md:gap-12 items-center">
            <div>
                <h3 class="text-xl md:text-2xl font-bold mb-4 text-center">Simula√ß√£o 2: O P√™ndulo (Sistema Dissipativo)</h3>
                <p class="text-gray-300 mb-4">Na realidade, a maioria dos sistemas n√£o √© ideal. Este p√™ndulo √© um <strong>sistema dissipativo</strong>, em que for√ßas como o atrito e a resist√™ncia do ar retiram energia mec√¢nica do sistema. A energia "perdida" transforma-se em calor e som. Ajuste o atrito e observe a energia total diminuir.</p>
                <div class="relative w-full h-64 md:h-80 bg-[#1f2937] rounded-lg overflow-hidden border border-[#525252]">
                    <div class="absolute top-0 left-1/2 w-2 h-2 bg-[#e2e8f0] -translate-x-1/2 rounded-full z-10"></div>
                    <div id="pendulum-arm-container">
                        <div id="pendulum-arm">
                            <div id="pendulum-bob"></div>
                        </div>
                    </div>
                </div>
                <div class="mt-4 flex flex-col gap-4">
                    <div>
                        <label for="pendulumFriction" class="block text-sm font-medium text-gray-300">Atrito</label>
                        <input type="range" id="pendulumFriction" min="0" max="0.2" step="0.001" value="0.005" class="w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer slider-thumb" aria-label="Atrito do p√™ndulo">
                        <span id="pendulumFrictionValue" class="text-center block font-mono text-sm md:text-base">Baixo</span>
                    </div>
                    <div class="flex gap-2">
                        <a href="https://simufisica.com/simulacoes/pendulo-simples/" target="_blank" rel="noopener" class="w-1/2 bg-[#4ade80] text-white py-2 rounded-lg hover:bg-[#22c55e] transition-colors text-center font-semibold" aria-label="Laborat√≥rio Virtual">Laborat√≥rio Virtual</a>
                        <button id="resetPendulum" class="w-1/2 bg-[#06b6d4] text-white py-2 rounded-lg hover:bg-[#0891b2] transition-colors" aria-label="Reiniciar P√™ndulo">Reiniciar P√™ndulo</button>
                    </div>
                </div>
            </div>
            <div>
                <div class="chart-container">
                    <canvas id="pendulumChart"></canvas>
                </div>
                <div class="text-center mt-4 p-4 bg-[#2f3b4c] rounded-lg">
                    <p class="text-sm md:text-base"><strong>Energia Mec√¢nica Restante:</strong> <span id="pendulumCurrentEnergy" class="font-mono text-[#fca5a5]">0</span> J</p>
                </div>
                <p class="text-gray-300 mt-4 text-sm md:text-base">Ao aumentar o atrito, a energia mec√¢nica restante (cin√©tica + potencial) diminui mais rapidamente. A barra de energia <strong>dissipada</strong> mostra a quantidade convertida em calor e som, explicando por que a maioria dos sistemas reais eventualmente para.</p>
            </div>
        </div>
    </section>

    <!-- Desafios -->
    <section id="desafios">
        <h2 class="text-2xl md:text-3xl font-bold text-center mb-2">Resolva os Desafios</h2>
        <p class="text-center text-gray-300 mb-6 md:mb-8 max-w-3xl mx-auto">Agora √© sua vez de aplicar o que aprendeu. Os exerc√≠cios foram transformados em calculadoras interativas para voc√™ testar as f√≥rmulas de energia.</p>

        <div class="grid md:grid-cols-2 gap-6 md:gap-8">
            <div class="bg-[#2f3b4c] p-4 md:p-6 rounded-xl shadow-lg">
                <h3 class="text-lg md:text-xl font-bold mb-3">üé¢ Desafio 1: Barco Viking</h3>
                <p class="mb-4 text-gray-300 text-sm md:text-base">Considerando o atrito desprez√≠vel, qual a velocidade do barco ao passar pelo ponto mais baixo, partindo de uma altura de 20m?</p>
                <button id="calcVik" class="w-full bg-[#06b6d4] text-white py-2 rounded-lg hover:bg-[#0891b2] transition-colors" aria-label="Calcular velocidade do barco Viking">Calcular Velocidade</button>
                <p id="resVik" class="mt-4 text-center font-bold text-sm md:text-base h-8"></p>
                <p class="mt-2 text-gray-400 text-xs">Conserva√ß√£o de energia: $mgh = 1/2mv^2 \Rightarrow v = \sqrt{2gh}$.</p>
            </div>
            <div class="bg-[#2f3b4c] p-4 md:p-6 rounded-xl shadow-lg">
                <h3 class="text-lg md:text-xl font-bold mb-3">üß± Desafio 2: O Pedreiro</h3>
                <p class="mb-4 text-gray-300 text-sm md:text-base">Qual a menor velocidade para lan√ßar um tijolo a 3m de altura, para que ele chegue com velocidade zero?</p>
                <button id="calcPed" class="w-full bg-[#06b6d4] text-white py-2 rounded-lg hover:bg-[#0891b2] transition-colors" aria-label="Calcular velocidade m√≠nima do tijolo">Calcular Velocidade M√≠nima</button>
                <p id="resPed" class="mt-4 text-center font-bold text-sm md:text-base h-8"></p>
                <p class="mt-2 text-gray-400 text-xs">No topo, $E_c = 0 \Rightarrow 1/2mv^2 = mgh \Rightarrow v = \sqrt{2gh}$.</p>
            </div>
            <div class="bg-[#2f3b4c] p-4 md:p-6 rounded-xl shadow-lg">
                <h3 class="text-lg md:text-xl font-bold mb-3">üí™ Desafio 3: O Lutador</h3>
                <p class="mb-4 text-gray-300 text-sm md:text-base">Um lutador de 100kg se joga nas cordas a 5 m/s. Qual a energia potencial el√°stica armazenada na corda quando ele para?</p>
                <button id="calcLut" class="w-full bg-[#06b6d4] text-white py-2 rounded-lg hover:bg-[#0891b2] transition-colors" aria-label="Calcular energia el√°stica">Calcular Energia Armazenada</button>
                <p id="resLut" class="mt-4 text-center font-bold text-sm md:text-base h-8"></p>
                <p class="mt-2 text-gray-400 text-xs">Toda $E_c$ vira $E_{el√°stica}$: $1/2mv^2$.</p>
            </div>
            <div class="bg-[#2f3b4c] p-4 md:p-6 rounded-xl shadow-lg">
                <h3 class="text-lg md:text-xl font-bold mb-3">üëß Desafio 4: O Escorregador</h3>
                <p class="mb-4 text-gray-300 text-sm md:text-base">Uma crian√ßa de 50kg desce de um escorregador de 2m de altura. Se 600 Joules s√£o perdidos pelo atrito, qual sua velocidade final?</p>
                <button id="calcEsc" class="w-full bg-[#06b6d4] text-white py-2 rounded-lg hover:bg-[#0891b2] transition-colors" aria-label="Calcular velocidade final da crian√ßa">Calcular Velocidade Final</button>
                <p id="resEsc" class="mt-4 text-center font-bold text-sm md:text-base h-8"></p>
                <p class="mt-2 text-gray-400 text-xs">$E_c(final) = mgh - W_{atrito}$.</p>
            </div>
        </div>

        <hr class="my-8 md:my-12 border-gray-600" />

        <!-- Desafios Planet√°rios -->
        <h3 class="text-xl md:text-2xl font-bold text-center mb-4">üåå Desafios Planet√°rios</h3>
        <p class="text-center text-gray-300 mb-6 max-w-3xl mx-auto">Explore como a gravidade afeta o movimento dos proj√©teis em diferentes planetas.</p>
        <div class="grid md:grid-cols-2 gap-6 md:gap-8">
            <div class="bg-[#2f3b4c] p-4 md:p-6 rounded-xl shadow-lg">
                <h4 class="text-lg md:text-xl font-bold mb-3">üåç vs üåô Alcance Comparado</h4>
                <p class="mb-2 text-gray-300 text-sm md:text-base">Lan√ßamento a 50 m/s, $\theta = 45¬∞$ (mesmo n√≠vel).</p>
                <button id="calcTerraLua" class="w-full bg-[#06b6d4] text-white py-2 rounded-lg hover:bg-[#0891b2] transition-colors" aria-label="Calcular alcance Terra vs Lua">Calcular</button>
                <p id="resTerraLua" class="mt-4 text-center font-bold text-sm md:text-base h-8"></p>
                <p class="mt-2 text-gray-400 text-xs">F√≥rmula: $R = (v_0^2 \cdot \sin2\theta)/g$. Menor g $\Rightarrow$ maior alcance.</p>
            </div>
            <div class="bg-[#2f3b4c] p-4 md:p-6 rounded-xl shadow-lg">
                <h4 class="text-lg md:text-xl font-bold mb-3">üî¥ vs üü° Altura M√°xima</h4>
                <p class="mb-2 text-gray-300 text-sm md:text-base">Lan√ßamento a 30 m/s, $\theta = 60¬∞$.</p>
                <button id="calcMarteJupiter" class="w-full bg-[#06b6d4] text-white py-2 rounded-lg hover:bg-[#0891b2] transition-colors" aria-label="Calcular altura Marte vs J√∫piter">Calcular</button>
                <p id="resMarteJupiter" class="mt-4 text-center font-bold text-sm md:text-base h-8"></p>
                <p class="mt-2 text-gray-400 text-xs">Altura m√°xima: $H = (v_0^2 \cdot \sin^2\theta)/(2g)$.</p>
            </div>
            <div class="bg-[#2f3b4c] p-4 md:p-6 rounded-xl shadow-lg md:col-span-2">
                <h4 class="text-lg md:text-xl font-bold mb-3">‚öñÔ∏è Gravidade Customizada</h4>
                <p class="mb-2 text-gray-300 text-sm md:text-base">Para $v_0 = 40$ m/s e $\theta = 30¬∞$, informe g e calcule alcance e altura m√°xima.</p>
                <div class="flex gap-4 mb-4">
                    <input type="number" id="customG" value="9.81" step="0.01" class="w-full p-2 rounded text-black" placeholder="g (m/s¬≤)" aria-label="Gravidade customizada">
                    <button id="calcCustomG" class="bg-[#06b6d4] text-white px-4 rounded-lg hover:bg-[#0891b2] transition-colors" aria-label="Calcular alcance e altura customizados">Calcular</button>
                </div>
                <p id="resCustomG" class="mt-4 text-center font-bold text-sm md:text-base h-8"></p>
                <p class="mt-2 text-gray-400 text-xs">Dica: teste g da Lua (1,62) e de Marte (3,71) e compare com a Terra.</p>
            </div>
        </div>
    </section>
</main>

<footer class="bg-[#374151] mt-12 md:mt-16 py-6 border-t border-gray-600">
    <div class="container mx-auto px-6 text-center text-gray-300">
        <p class="text-sm md:text-base">Compreender a conserva√ß√£o e a dissipa√ß√£o de energia √© fundamental para um mundo mais eficiente.</p>
        <p class="text-xs mt-2 text-gray-400">created by Ana Beatriz Gramacho and AI's</p>
    </div>
</footer>

<script>
    // =================== VARI√ÅVEIS GLOBAIS ===================
    let g = 9.81; // gravidade global para proj√©teis

    // =================== PROJ√âTIL 1D ===================
    function setupProjectile1D(){
        const massSlider = document.getElementById('projMass');
        const velSlider = document.getElementById('projVel');
        const massValue = document.getElementById('projMassValue');
        const velValue = document.getElementById('projVelValue');
        const projectileEl = document.getElementById('projectile1D');
        const totalEnergyEl = document.getElementById('projTotalEnergy');
        const maxHeightEl = document.getElementById('projMaxHeight');
        const ctx = document.getElementById('projectileChart1D').getContext('2d');

        let chart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Energia'],
                datasets: [
                    { label: 'Cin√©tica', data: [0], backgroundColor: '#38bdf8' },
                    { label: 'Potencial', data: [0], backgroundColor: '#4ade80' }
                ]
            },
            options: {
                indexAxis: 'y', responsive: true, maintainAspectRatio: false,
                scales: { x: { stacked: true, ticks: { color: '#e2e8f0' }, title: { display: true, text: 'Joules (J)', color: '#e2e8f0' } }, y: { stacked: true, display: false } },
                plugins: { legend: { labels: { color: '#e2e8f0' } }, tooltip: { enabled: true, backgroundColor: '#2f3b4c', titleColor: '#e2e8f0', bodyColor: '#e2e8f0' } },
                animation: false
            }
        });

        let animId = null;
        let lastTs = null;
        let animationDuration = 2; // segundos para a anima√ß√£o completa
        let state = { mass: 0.5, v0: 50, t: 0, totalEnergy: 0, maxHeight: 0 };

        function recalcAndStart(){
            if (animId) cancelAnimationFrame(animId);
            state.mass = parseFloat(massSlider.value);
            state.v0 = parseFloat(velSlider.value);
            state.t = 0;
            state.totalEnergy = 0.5 * state.mass * state.v0 * state.v0;
            state.maxHeight = (state.v0 * state.v0) / (2 * g);
            massValue.textContent = state.mass.toFixed(2) + ' kg';
            velValue.textContent = state.v0.toFixed(0) + ' m/s';
            totalEnergyEl.textContent = state.totalEnergy.toFixed(2);
            maxHeightEl.textContent = state.maxHeight.toFixed(2);
            lastTs = null;
            animate();
        }

        function animate(ts){
            if (lastTs === null) lastTs = ts || performance.now();
            const dt = ((ts || performance.now()) - lastTs) / 1000;
            lastTs = (ts || performance.now());

            const totalFlightTime = 2 * state.v0 / g;
            // Fra√ß√£o do tempo total para garantir anima√ß√£o sempre com a mesma dura√ß√£o
            state.t += dt * (totalFlightTime / animationDuration);

            const y = Math.max(0, state.v0 * state.t - 0.5 * g * state.t * state.t);
            const v = state.v0 - g * state.t;

            const container = projectileEl.parentElement; const H = container.clientHeight; const hDot = projectileEl.clientHeight;
            const pixelY = (state.maxHeight > 0 ? y / state.maxHeight : 0) * (H - hDot);
            projectileEl.style.bottom = `${Math.max(0, pixelY)}px`;

            const e_c = Math.max(0, 0.5 * state.mass * v * v);
            const e_p = Math.max(0, state.totalEnergy - e_c);
            chart.data.datasets[0].data[0] = e_c;
            chart.data.datasets[1].data[0] = e_p;
            chart.options.scales.x.max = state.totalEnergy * 1.1;
            chart.update('none');

            if (state.t > totalFlightTime) { state.t = 0; lastTs = null; }
            animId = requestAnimationFrame(animate);
        }

        massSlider.addEventListener('input', recalcAndStart);
        velSlider.addEventListener('input', recalcAndStart);
        recalcAndStart();

        // Retorne um "restart" para ser chamado quando g mudar
        return { restart: recalcAndStart };
    }

    // =================== PROJ√âTIL 2D ===================
    function setupProjectile2D(){
        const massSlider = document.getElementById('proj2Mass');
        const velSlider = document.getElementById('proj2Vel');
        const angleSlider = document.getElementById('proj2Angle');
        const massValue = document.getElementById('proj2MassValue');
        const velValue = document.getElementById('proj2VelValue');
        const angleValue = document.getElementById('proj2AngleValue');

        const dot = document.getElementById('projectile2D');
        const container = document.getElementById('proj2Container');
        const canvas = document.getElementById('trajCanvas');
        const ctxTrace = canvas.getContext('2d');

        const EtotalEl = document.getElementById('proj2TotalEnergy');
        const HmaxEl = document.getElementById('proj2MaxHeight');
        const RangeEl = document.getElementById('proj2Range');

        const chartCtx = document.getElementById('projectileChart2D').getContext('2d');
        let chart = new Chart(chartCtx, {
            type: 'bar',
            data: { labels: ['Energia'], datasets: [
                { label: 'Cin√©tica', data: [0], backgroundColor: '#38bdf8' },
                { label: 'Potencial', data: [0], backgroundColor: '#4ade80' },
                { label: 'Total', data: [0], backgroundColor: '#facc15' },
            ]},
            options: { indexAxis: 'y', responsive: true, maintainAspectRatio: false,
                scales:{ x:{ stacked:true, ticks:{ color:'#e2e8f0' }, title:{ display:true, text:'Joules (J)', color:'#e2e8f0' }}, y:{ stacked:true, display:false } },
                plugins:{ legend:{ labels:{ color:'#e2e8f0' } } }, animation:false }
        });

        let animId = null; let lastTs = null;
        let state = { m:1, v0:50, angle:45*Math.PI/180, vx:0, vy:0, t:0, H:0, R:0, Et0:0 };

        function fitCanvas(){ canvas.width = container.clientWidth; canvas.height = container.clientHeight; }
        window.addEventListener('resize', fitCanvas);

        function recalc(){
            state.m = parseFloat(massSlider.value);
            state.v0 = parseFloat(velSlider.value);
            state.angle = parseFloat(angleSlider.value) * Math.PI/180;
            state.vx = state.v0 * Math.cos(state.angle);
            state.vy = state.v0 * Math.sin(state.angle);
            state.H = (state.vy*state.vy)/(2*g);
            state.R = (state.v0*state.v0*Math.sin(2*state.angle))/g;
            state.Et0 = 0.5 * state.m * state.v0 * state.v0;
            state.t = 0;

            massValue.textContent = state.m.toFixed(1)+' kg';
            velValue.textContent = state.v0.toFixed(0)+' m/s';
            angleValue.textContent = (state.angle*180/Math.PI).toFixed(0)+'¬∞';
            EtotalEl.textContent = state.Et0.toFixed(2);
            HmaxEl.textContent = state.H.toFixed(2);
            RangeEl.textContent = state.R.toFixed(2);

            // reset desenho e posi√ß√£o do ponto
            fitCanvas();
            ctxTrace.clearRect(0,0,canvas.width,canvas.height);
            ctxTrace.lineWidth = 2; ctxTrace.globalAlpha = 0.9;
            ctxTrace.beginPath();
            dot.style.left = '0px';
            dot.style.bottom = '0px';
            lastTs = null;
            if (animId) cancelAnimationFrame(animId);
            animate();
        }

        function animate(ts){
            if (lastTs === null) lastTs = ts || performance.now();
            const dt = ((ts || performance.now()) - lastTs) / 1000; // s
            lastTs = (ts || performance.now());
            state.t += dt;

            // posi√ß√£o
            let x = state.vx * state.t;
            let y = state.vy * state.t - 0.5 * g * state.t * state.t;
            if (y < 0) y = 0;

            // escalas para caber na √°rea
            const W = container.clientWidth; const H = container.clientHeight; const rDot = dot.clientWidth;
            const R = Math.max(0.5, state.R); const HH = Math.max(0.5, state.H);
            const px = Math.min(W - rDot, (x / R) * (W - rDot));
            const py = Math.min(H - rDot, (y / HH) * (H - rDot));

            dot.style.left = `${px}px`; dot.style.bottom = `${py}px`;

            // Tra√ßo da trajet√≥ria
            const cx = px + rDot/2; const cy = H - (py + rDot/2); // canvas origem no topo
            if (state.t === 0) { ctxTrace.moveTo(cx, cy); } else { ctxTrace.lineTo(cx, cy); ctxTrace.strokeStyle = '#22d3ee'; ctxTrace.stroke(); }

            // energias
            const vy_t = state.vy - g*state.t;
            const v2 = state.vx*state.vx + vy_t*vy_t;
            const Ec = 0.5 * state.m * v2;
            const Ep = state.m * g * y;
            const Et = Ec + Ep;
            chart.data.datasets[0].data[0] = Ec;
            chart.data.datasets[1].data[0] = Ep;
            chart.data.datasets[2].data[0] = Et;
            chart.options.scales.x.max = state.Et0 * 1.2;
            chart.update('none');

            if (y > 0 || state.t === 0) { animId = requestAnimationFrame(animate); }
        }

        massSlider.addEventListener('input', recalc);
        velSlider.addEventListener('input', recalc);
        angleSlider.addEventListener('input', recalc);
        recalc();

        return { restart: recalc };
    }

    // =================== P√äNDULO DISSIPATIVO ===================
    function setupPendulum(){
        const frictionSlider = document.getElementById('pendulumFriction');
        const frictionValue = document.getElementById('pendulumFrictionValue');
        const arm = document.getElementById('pendulum-arm');
        const currentEnergyEl = document.getElementById('pendulumCurrentEnergy');
        const resetButton = document.getElementById('resetPendulum');
        const ctx = document.getElementById('pendulumChart').getContext('2d');

        const armLength = 160; // px
        const armLengthInMeters = 1.0; // Usado para c√°lculos de energia
        let chart = new Chart(ctx, {
            type: 'bar',
            data: { labels: ['Energia'], datasets: [
                { label: 'Cin√©tica', data: [0], backgroundColor: '#38bdf8' },
                { label: 'Potencial', data: [0], backgroundColor: '#4ade80' },
                { label: 'Dissipada', data: [0], backgroundColor: '#fca5a5' }
            ]},
            options: { indexAxis:'y', responsive:true, maintainAspectRatio:false,
                scales:{ x:{ stacked:true, ticks:{ color:'#e2e8f0' }, title:{ display:true, text:'Joules (J)', color:'#e2e8f0' } }, y:{ stacked:true, display:false } },
                plugins:{ legend:{ labels:{ color:'#e2e8f0' } } }, animation:false }
        });

        let animId;
        let lastTs = null;
        let state = { angle: Math.PI/3, angularVelocity: 0, friction: 0.005, mass: 1, initialEnergy: 0 };

        function updateFriction(){
            state.friction = parseFloat(frictionSlider.value);
            const level = state.friction / 0.2;
            frictionValue.textContent = level < 0.01 ? 'Nenhum' : (level < 0.33 ? 'Baixo' : (level < 0.66 ? 'M√©dio' : 'Alto'));
            resetPendulum(); // Reinicia ao alterar o atrito
        }

        function resetPendulum(){
            if (animId) cancelAnimationFrame(animId);
            state.angle = Math.PI/3; state.angularVelocity = 0;
            state.initialEnergy = state.mass * 9.81 * armLengthInMeters * (1 - Math.cos(state.angle));
            lastTs = null;
            animate();
        }

        function animate(ts){
            if (lastTs === null) lastTs = ts || performance.now();
            const dt = ((ts || performance.now()) - lastTs) / 1000;
            lastTs = (ts || performance.now());

            // Equa√ß√£o do movimento para o p√™ndulo com atrito
            const alpha = -(9.81 / armLengthInMeters) * Math.sin(state.angle) - state.friction * state.angularVelocity;
            state.angularVelocity += alpha * dt;
            state.angle += state.angularVelocity * dt;

            // Limitar o √¢ngulo para n√£o sair do intervalo f√≠sico
            if (state.angle > Math.PI/2) { state.angle = Math.PI/2; state.angularVelocity *= -0.5; }
            if (state.angle < -Math.PI/2) { state.angle = -Math.PI/2; state.angularVelocity *= -0.5; }

            arm.style.transform = `rotate(${(state.angle * 180 / Math.PI)}deg)`;

            // C√°lculos de energia
            const height = armLengthInMeters * (1 - Math.cos(state.angle));
            const velocity = state.angularVelocity * armLengthInMeters;
            const e_p = state.mass * 9.81 * height;
            const e_c = 0.5 * state.mass * velocity * velocity;
            const currentEnergy = e_p + e_c;
            const dissipatedEnergy = Math.max(0, state.initialEnergy - currentEnergy);

            chart.data.datasets[0].data[0] = Math.max(0, e_c);
            chart.data.datasets[1].data[0] = Math.max(0, e_p);
            chart.data.datasets[2].data[0] = Math.max(0, dissipatedEnergy);
            chart.options.scales.x.max = state.initialEnergy * 1.1;
            chart.update('none');
            currentEnergyEl.textContent = currentEnergy.toFixed(2);
            
            // Para a anima√ß√£o se a energia for muito baixa
            if (currentEnergy > 0.01) {
                animId = requestAnimationFrame(animate);
            }
        }

        frictionSlider.addEventListener('input', updateFriction);
        resetButton.addEventListener('click', resetPendulum);
        updateFriction();
    
    }

    // =================== DESAFIOS ORIGINAIS ===================
    function setupChallengesOriginal(){
        document.getElementById('calcVik').addEventListener('click', () => {
            const h = 20; const v = Math.sqrt(2 * g * h); // usa g global
            document.getElementById('resVik').textContent = `v = ${v.toFixed(2)} m/s`;
        });
        document.getElementById('calcPed').addEventListener('click', () => {
            const h = 3; const v = Math.sqrt(2 * g * h);
            document.getElementById('resPed').textContent = `v = ${v.toFixed(2)} m/s`;
        });
        document.getElementById('calcLut').addEventListener('click', () => {
            const m = 100; const v = 5; const e_pe = 0.5 * m * v * v;
            document.getElementById('resLut').textContent = `E_pe = ${e_pe.toFixed(2)} J`;
        });
        document.getElementById('calcEsc').addEventListener('click', () => {
            const m = 50, h = 2, w_atrito = 600; const e_p_inicial = m * g * h; const e_c_final = e_p_inicial - w_atrito;
            if (e_c_final > 0) {
                const v_final = Math.sqrt(2 * e_c_final / m);
                document.getElementById('resEsc').textContent = `v = ${v_final.toFixed(2)} m/s`;
            } else { document.getElementById('resEsc').textContent = 'N√£o chega ao final'; }
        });
    }

    // =================== DESAFIOS PLANET√ÅRIOS ===================
    function setupPlanetaryChallenges(){
        document.getElementById('calcTerraLua').addEventListener('click', () => {
            const v0 = 50, angle = 45 * Math.PI/180; const s2 = Math.sin(2*angle);
            const rangeTerra = (v0*v0 * s2) / 9.81; const rangeLua = (v0*v0 * s2) / 1.62;
            document.getElementById('resTerraLua').textContent = `Terra: ${rangeTerra.toFixed(2)} m | Lua: ${rangeLua.toFixed(2)} m`;
        });
        document.getElementById('calcMarteJupiter').addEventListener('click', () => {
            const v0 = 30, angle = 60 * Math.PI/180; const vy = v0 * Math.sin(angle);
            const hMarte = (vy*vy)/(2*3.71); const hJup = (vy*vy)/(2*24.79);
            document.getElementById('resMarteJupiter').textContent = `Marte: ${hMarte.toFixed(2)} m | J√∫piter: ${hJup.toFixed(2)} m`;
        });
        document.getElementById('calcCustomG').addEventListener('click', () => {
            const gVal = Math.max(0.01, parseFloat(document.getElementById('customG').value));
            const v0 = 40, angle = 30 * Math.PI/180; const vx = v0*Math.cos(angle); const vy = v0*Math.sin(angle);
            const tFlight = 2*vy/gVal; const range = vx * tFlight; const hMax = (vy*vy)/(2*gVal);
            document.getElementById('resCustomG').textContent = `Alcance: ${range.toFixed(2)} m | Altura M√°xima: ${hMax.toFixed(2)} m`;
        });
    }

    // =================== GRAVIDADE GLOBAL (UI) ===================
    function setupGravityUI(projectile1D, projectile2D){
        const gSlider = document.getElementById('gSlider');
        const gValue = document.getElementById('gValue');
        function setG(val){ g = val; gSlider.value = val; gValue.textContent = `${parseFloat(val).toFixed(2)} m/s¬≤`; projectile1D.restart(); projectile2D.restart(); }
        gSlider.addEventListener('input', (e)=> setG(parseFloat(e.target.value)) );
        document.querySelectorAll('.planet-btn').forEach(btn => btn.addEventListener('click', ()=> setG(parseFloat(btn.dataset.g))));
        setG(parseFloat(gSlider.value));
    }

    // =================== INIT ===================
    document.addEventListener('DOMContentLoaded', () => {
        const p1 = setupProjectile1D();
        const p2 = setupProjectile2D();
        setupPendulum();
        setupChallengesOriginal();
        setupPlanetaryChallenges();
        setupGravityUI(p1, p2);
    });
</script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  if (window.MathJax && MathJax.typesetPromise) {
    MathJax.typesetPromise();
  }
});
</script>
</body>
</html>
